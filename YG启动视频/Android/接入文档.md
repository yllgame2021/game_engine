# Android SVGA启动动画接入

## 1.项目配置流程
### 1.1 修改配置
在项目的 `/Gradle Scripts/build.gradle(Project: <projectname>) `文件中添加如下行：
```java
buildscript {
    repositories {
        ...
        maven { url 'https://www.jitpack.io' }
    }
    ...
}
allprojects {
    repositories {
        ...
        maven { url 'https://www.jitpack.io' }
    }
    ...
}
```
### 1.2 添加依赖包
在 `/Gradle Scripts/build.gradle(Module: <projectname>.app) `中添加如下依赖：
```js
...
dependencies {
 ...
 implementation 'com.github.yyued:SVGAPlayer-Android:2.5.3'
}
```
### 1.3 添加资源
1. 将`start.svga`文件拷贝至项目`根目录/assets/`文件夹下
2. 将`activity_start.xml`文件拷贝至`根目录/res/layout`(没有文件夹则新建)下
3. 将 `StartActivity.java`文件拷贝至`MainActivity.java`同级目录下

### 1.4添加activity配置
1. 在`AndroidManifest.xml`中添加一个activity，并且设置为启动activity
```xml
<activity
    android:name=".StartActivity"
    android:configChanges="keyboardHidden|orientation|navigation|screenSize"
    android:label="@string/app_name"
    android:screenOrientation="portrait"
    android:theme="@android:style/Theme.NoTitleBar.Fullscreen">
    android:windowSoftInputMode="adjustResize">
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
</activity>
```
2. **去掉**`AndroidManifest.xml`中`MainActivity`的启动配置
```xml
<!--            <intent-filter>-->
<!--                <action android:name="android.intent.action.MAIN" />-->

<!--                <category android:name="android.intent.category.LAUNCHER" />-->
<!--            </intent-filter>-->
```

### 1.5 添加混淆
在`proguard-rules.pro`文件中添加如下混淆
```js
-keep class com.squareup.wire.** { *; }
-keep class com.opensource.svgaplayer.proto.** { *; }
```
