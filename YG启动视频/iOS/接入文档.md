
# iOS 启动视频接入文档

## 1.接入前环境配置

### 1.1 需要安装cocoapods管理工具([参考](https://www.kancloud.cn/god-is-coder/cocoapods/617031))

### 1.2配置项目

#### 1.2.1 cd 到 xxx.xcodeproj 目录下，pod init 创建pod管理文件

#### 1.2.2 在podfile文件中添加以下依赖库
```obj-c
  pod 'SVGAPlayer', '~> 2.3'
```
#### 1.2.3 然后执行 pod install

## 2. 代码集成

### 2.1 将启动视频svga文件([下载](https://github.com/yllgame2021/yllgamesdk/blob/master/YG%E5%90%AF%E5%8A%A8%E8%A7%86%E9%A2%91/iOS/%E5%90%AF%E5%8A%A8%E8%A7%86%E9%A2%91.svga.zip))拖进项目对应的Target中

## 3. SVGAPlayer的使用

### 3.1 引入头文件
```obj-c
  import <SVGA.h>
```

### 3.2 初始化SVGAPlayer
```obj-c
   __block SVGAPlayer *player = [[SVGAPlayer alloc] init];
   player.delegate = self;
   player.contentMode = UIViewContentModeScaleAspectFit;
   SVGAParser *parser = [[SVGAParser alloc] init];
   [parser parseWithURL:[NSURL fileURLWithPath:[[NSBundle mainBundle] pathForResource:@"文件名.svga" ofType:nil]] completionBlock:^(SVGAVideoEntity *videoItem) {
        if (videoItem) {
            player.videoItem = videoItem;
            [player startAnimation];
        }
    } failureBlock:nil];
    player.userInteractionEnabled = YES;
    player.loops = 1;
    player.clearsAfterStop = YES;
    player.bounds = view.frame;
    player.center = view.center;
    [view addSubbiew:player];
```

### 3.3 遵循代理 SVGAPlayerDelegate
```obj-c
@interface ViewController : UIViewController<SVGAPlayerDelegate>


- (void)svgaPlayerDidAnimatedToPercentage:(CGFloat)percentage {
    NSLog(@"执行进度中%lf",percentage);
}
- (void)svgaPlayerDidFinishedAnimation:(SVGAPlayer *)player {
    NSLog(@"执行结束");
}

```


